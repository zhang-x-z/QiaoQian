{"version":3,"sources":["webpack:///./src/assets/img/filter_image/style8.jpg","webpack:///./src/assets/img/filter_image/style2.jpg","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/assets/img/filter_image/素描.jpg","webpack:///./src/views/Mobile/process/FilterProc.vue?f8e2","webpack:///src/views/Mobile/process/FilterProc.vue","webpack:///./src/views/Mobile/process/FilterProc.vue?8aac","webpack:///./src/views/Mobile/process/FilterProc.vue","webpack:///./src/assets/img/filter_image/style4.jpg","webpack:///./src/assets/img/filter_image/style5.jpg","webpack:///./src/assets/img/filter_image/style3.jpg","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./src/assets/img/filter_image/锐化.jpg","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/assets/img/filter_image/style0.jpg","webpack:///./src/assets/img/filter_image/浮雕.jpg","webpack:///./src/assets/img/filter_image/style7.jpg","webpack:///./src/assets/img/filter_image/中国剪纸.jpg","webpack:///./src/views/Mobile/process/FilterProc.vue?20ee","webpack:///./src/assets/img/filter_image/style6.jpg","webpack:///./src/assets/img/filter_image/style1.jpg","webpack:///./src/assets/img/filter_image/褪色.jpg","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/assets/img/filter_image/怀旧.jpg","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/assets/img/filter_image/img0.jpg","webpack:///./src/assets/img/filter_image/像素风.jpg","webpack:///./src/assets/img/testImg.png","webpack:///./src/assets/img/filter_image/去雾.jpg","webpack:///./src/assets/img/filter_image/调和浮雕.jpg","webpack:///./src/assets/img/filter_image/蜡笔.jpg"],"names":["module","exports","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","on","back","proxy","_v","_s","currentModule","finish","directives","name","rawName","value","expression","attrs","ref","userImg","handleClick","model","callback","$$v","滤镜","_l","item","index","subModules","subitem","subIndex","handleSubClick","isShadow","padding","width","display","subSamples","staticRenderFns","a","components","NavBar","data","modules","previousIndex","currentSubModule","savedImg","fullScreenLoading","mounted","init","methods","i","unshift","$store","state","editedImg","reset","$router","commit","tab","label","form","append","error_code","console","log","err","activated","component","isObject","classof","wellKnownSymbol","MATCH","it","isRegExp","TypeError","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el"],"mappings":"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","file":"js/chunk-1115d284.58cb30fa.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/style8.7517da19.jpg\";","module.exports = __webpack_public_path__ + \"img/style2.d5c6998c.jpg\";","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/素描.16400a07.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"filter-proc\"},[_c('el-header',[_c('nav-bar',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('i',{staticClass:\"el-icon-close\",on:{\"click\":_vm.back}})]},proxy:true},{key:\"center\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.currentModule))])]},proxy:true},{key:\"right\",fn:function(){return [_c('i',{staticClass:\"el-icon-check\",on:{\"click\":_vm.finish}})]},proxy:true}])})],1),_c('el-main',[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.fullScreenLoading),expression:\"fullScreenLoading\"}],staticClass:\"img-container\",attrs:{\"element-loading-text\":\"处理中...\",\"element-loading-background\":\"rgba(0, 0, 0, 0.6)\"}},[_c('img',{ref:\"image\",attrs:{\"src\":_vm.userImg,\"id\":\"image\"}})])]),_c('el-footer',{staticClass:\"tabs\"},[_c('el-tabs',{attrs:{\"tab-position\":\"bottom\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.滤镜),callback:function ($$v) {_vm.滤镜=$$v},expression:\"滤镜\"}},[_vm._l((_vm.modules),function(item,index){return [_c('el-tab-pane',{attrs:{\"label\":item}},[_c('div',{staticClass:\"sub-modules\"},[_vm._l((_vm.subModules[index]),function(subitem,subIndex){return [_c('div',{staticClass:\"card-container\",attrs:{\"id\":subIndex},on:{\"click\":_vm.handleSubClick}},[_c('el-card',{attrs:{\"shadow\":_vm.isShadow[index][subIndex],\"body-style\":{ \n                padding: '0',width:'100%', display:'flex',\n                'flex-direction': 'column',\n                'justify-content': 'center',\n                'align-items': 'center'}}},[_c('span',[_vm._v(_vm._s(subitem))]),_c('img',{staticClass:\"card-img\",attrs:{\"src\":_vm.subSamples[index][subIndex]}})])],1)]})],2)])]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"filter-proc\">\r\n    <el-header>\r\n      <nav-bar>\r\n        <template v-slot:left>\r\n          <i class=\"el-icon-close\" @click=\"back\"></i>\r\n        </template>\r\n        <template v-slot:center>\r\n          <span>{{currentModule}}</span>\r\n        </template>\r\n        <template v-slot:right>\r\n          <i class=\"el-icon-check\" @click=\"finish\"></i>\r\n        </template>\r\n      </nav-bar>\r\n    </el-header>\r\n    <el-main>\r\n      <div\r\n        class=\"img-container\"\r\n        v-loading=\"fullScreenLoading\"\r\n        element-loading-text=\"处理中...\"\r\n        element-loading-background=\"rgba(0, 0, 0, 0.6)\"\r\n      >\r\n        <img :src=\"userImg\" id=\"image\" ref=\"image\" />\r\n      </div>\r\n    </el-main>\r\n    <el-footer class=\"tabs\">\r\n      <!-- <el-tabs tab-position=\"bottom\" @tab-click=\"handleClick\" v-model=\"currentModule\"> -->\r\n      <el-tabs tab-position=\"bottom\" @tab-click=\"handleClick\" v-model=\"滤镜\">\r\n        <template v-for=\"(item,index) in modules\">\r\n          <el-tab-pane :label=\"item\">\r\n            <div class=\"sub-modules\">\r\n              <template v-for=\"(subitem,subIndex) in subModules[index]\">\r\n                <div class=\"card-container\" @click=\"handleSubClick\" :id=\"subIndex\">\r\n                  <el-card\r\n                    :shadow=\"isShadow[index][subIndex]\"\r\n                    :body-style=\"{ \r\n                  padding: '0',width:'100%', display:'flex',\r\n                  'flex-direction': 'column',\r\n                  'justify-content': 'center',\r\n                  'align-items': 'center'}\"\r\n                  >\r\n                    <span>{{subitem}}</span>\r\n                    <img class=\"card-img\" :src=\"subSamples[index][subIndex]\" />\r\n                  </el-card>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </el-tab-pane>\r\n        </template>\r\n      </el-tabs>\r\n    </el-footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport NavBar from 'components/common/Mobile/NavBar.vue'\r\nimport testImg from 'img/testImg.png'\r\n// 原图\r\nimport img0 from 'img/filter_image/img0.jpg'\r\n// 第一组\r\nimport img1_0 from 'img/filter_image/褪色.jpg'\r\nimport img1_1 from 'img/filter_image/去雾.jpg'\r\nimport img1_2 from 'img/filter_image/蜡笔.jpg'\r\nimport img1_3 from 'img/filter_image/怀旧.jpg'\r\nimport img1_4 from 'img/filter_image/锐化.jpg';\r\n// 第二组\r\nimport img2_0 from 'img/filter_image/像素风.jpg'\r\nimport img2_1 from 'img/filter_image/调和浮雕.jpg'\r\nimport img2_2 from 'img/filter_image/素描.jpg'\r\nimport img2_3 from 'img/filter_image/中国剪纸.jpg'\r\nimport img2_4 from 'img/filter_image/浮雕.jpg'\r\n// 第三组\r\nimport style0 from 'img/filter_image/style0.jpg'\r\nimport style1 from 'img/filter_image/style1.jpg'\r\nimport style2 from 'img/filter_image/style2.jpg'\r\nimport style3 from 'img/filter_image/style3.jpg'\r\nimport style4 from 'img/filter_image/style4.jpg'\r\nimport style5 from 'img/filter_image/style5.jpg'\r\nimport style6 from 'img/filter_image/style6.jpg'\r\nimport style7 from 'img/filter_image/style7.jpg'\r\nimport style8 from 'img/filter_image/style8.jpg'\r\n//添加axios请求\r\nimport axios from 'axios'\r\nimport { baseurl } from '@/utils.js'\r\n//TODO: need to change\r\naxios.defaults.baseURL = baseurl()\r\n// 添加操作码映射\r\nconst dict = { '褪色': 2, '去雾': 3, '蜡笔': 0, '怀旧': 5, '锐化': 9, '像素风': 1, '调和浮雕': 4, '素描': 6, '中国剪纸': 7, '浮雕': 8, '卡通画': 0, '铅笔画': 1, '彩色铅笔': 2, '彩糖油画': 3, '神奈川油画': 4, '薰衣草油画': 5, '奇异油画': 6, '呐喊油画': 7, '哥特油画': 8}\r\nexport default {\r\n  name: \"ColorProc\",\r\n  components: {\r\n    NavBar,\r\n  },\r\n  data () {\r\n    // TODO:卡片宽度增大、增加选中的阴影样式\r\n    return {\r\n      modules: ['朴素', '质感', '艺术'],\r\n      subModules: [['褪色', '去雾', '蜡笔', '怀旧', '锐化'], ['像素风', '调和浮雕', '素描', '中国剪纸', '浮雕'], ['卡通画', '铅笔画', '彩色铅笔', '彩糖油画', '神奈川油画', '薰衣草油画', '奇异油画', '呐喊油画', '哥特油画']],\r\n      // 保存效果图\r\n      // TODO:锐化加到第一组里面\r\n      subSamples: [[img1_0, img1_1, img1_2, img1_3, img1_4], [img2_0, img2_1, img2_2, img2_3, img2_4], [style0, style1, style2, style3, style4, style5, style6, style7, style8]],\r\n      isShadow: [['never', 'never', 'never', 'never', 'never'], ['never', 'never', 'never', 'never', 'never'], ['never', 'never', 'never', 'never', 'never', 'never', 'never', 'never', 'never']],\r\n      // 存储上一个选中的元素下标，用来清除阴影样式\r\n      previousIndex: 0,\r\n      currentModule: '',\r\n      currentSubModule: '',\r\n      userImg: '',\r\n      savedImg: '',\r\n      //全屏加载\r\n      fullScreenLoading: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init () {\r\n      // 给每个滤镜分组都加上原图选项\r\n      for (let i in this.subModules) {\r\n        this.subModules[i].unshift('原图')\r\n        this.subSamples[i].unshift(img0)\r\n        this.isShadow[i].unshift('never')\r\n        // console.log('subModule', this.subModules[i])\r\n      }\r\n      this.userImg = this.$store.state.editedImg\r\n      //保证不会在一个滤镜效果的基础上增加另一个滤镜\r\n      this.savedImg = this.$store.state.editedImg\r\n      this.currentModule = '朴素'\r\n      // console.log(testImg)\r\n    },\r\n    //增加重置操作\r\n    reset () {\r\n      this.userImg = this.$store.state.editedImg\r\n      this.savedImg = this.$store.state.editedImg\r\n    },\r\n    back () {\r\n      // 直接返回上层\r\n      this.$router.back()\r\n      // console.log('取消操作')\r\n    },\r\n    finish () {\r\n      //保存结果\r\n      this.$store.commit('saveImg', this.userImg)\r\n      // console.log('保存图片!!');\r\n      // html2canvas(refImg,{\r\n      //   allowTaint:true,\r\n      //   width:width,\r\n      //   height:height\r\n      // }).then((canvas)=>{\r\n      //   this.savedImg=canvas.toDataURL('image/jpeg');\r\n      //   console.log('http2canvas 保存成功');\r\n      //   this.$store.commit('saveImg',this.savedImg);\r\n      //   console.log('savedImg:',this.savedImg);\r\n\r\n      // })\r\n      this.$router.back()\r\n    },\r\n    handleClick (tab) {\r\n      // console.log('点击底部的 ' + tab.label)\r\n      this.currentModule = tab.label\r\n    },\r\n    handleSubClick (e) {\r\n      // console.log('subClick')\r\n      // console.log(e.currentTarget.id);\r\n      // let dom=document.getElementsByClassName('card-container')\r\n      // dom[this.previousIndex].shadow='never';\r\n      let index = this.modules.findIndex(value => value == this.currentModule)\r\n      let subIndex = e.currentTarget.id\r\n      // 清除前一个卡片的阴影效果\r\n      this.isShadow[index][this.previousIndex] = 'never'\r\n      this.previousIndex = subIndex\r\n      // 当前卡片增加选中效果\r\n      this.isShadow[index][subIndex] = 'always'\r\n      this.currentSubModule = this.subModules[index][subIndex]\r\n      // console.log('选择的滤镜是：', this.currentSubModule)\r\n      //增加请求\r\n      if (this.currentSubModule === '原图') {\r\n        this.reset()\r\n        // TODO:点击原图的样式bug如果请求成功不知道会不会自动修复\r\n      } else if (this.currentSubModule === '锐化') {\r\n        this.fullScreenLoading = true\r\n        let form = new FormData()\r\n        form.append('editedImg', this.savedImg)\r\n        axios.post('imgProc/changeSharp/', form).then(res => {\r\n          let error_code = res.data.error_code\r\n          if (error_code === 0) {\r\n            this.userImg = res.data.img_proc_result\r\n          } else if (error_code === 1008) {\r\n            this.$message.error('出错啦，请稍后再试')\r\n          }\r\n          this.fullScreenLoading = false\r\n        }).catch(err => {\r\n          this.$message.error('出错啦，请检查您的网络连接')\r\n          this.fullScreenLoading = false\r\n        })\r\n      } else if (this.subModules[2].includes(this.currentSubModule)){\r\n        this.fullScreenLoading = true\r\n        let opt_code = dict[this.currentSubModule]\r\n        let form = new FormData()\r\n        form.append('style_num', opt_code)\r\n        form.append('editedImg', this.savedImg)\r\n        axios.post('imgProc/styleTransform/', form).then(res => {\r\n          let error_code = res.data.error_code\r\n          if (error_code === 0) {\r\n            this.userImg = res.data.img_proc_result\r\n          } else if (error_code === 1008) {\r\n            this.$message.error('出错啦，请稍后再试')\r\n          }\r\n          this.fullScreenLoading = false\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.$message.error('出错啦，请检查您的网络连接')\r\n          this.fullScreenLoading = false\r\n        })\r\n      } else {\r\n        this.fullScreenLoading = true\r\n        let opt_code = dict[this.currentSubModule]\r\n        let form = new FormData()\r\n        form.append('operation', opt_code)\r\n        form.append('editedImg', this.savedImg)\r\n        axios.post('imgProc/filter/', form).then(res => {\r\n          let error_code = res.data.error_code\r\n          if (error_code === 0) {\r\n            this.userImg = res.data.img_proc_result\r\n          } else if (error_code === 1008) {\r\n            this.$message.error('出错啦，请稍后再试')\r\n          }\r\n          this.fullScreenLoading = false\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.$message.error('出错啦，请检查您的网络连接')\r\n          this.fullScreenLoading = false\r\n        })\r\n      }\r\n    },\r\n  },\r\n  activated () {\r\n    this.userImg = this.$store.state.editedImg\r\n    this.savedImg = this.$store.state.editedImg\r\n    // console.log('激活init？')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"css\" scoped>\r\n.filter-proc {\r\n  /* 默认值居然不是100%高度 */\r\n  height: 100%;\r\n}\r\n\r\n.el-header {\r\n  padding: 0;\r\n}\r\n\r\n.el-main {\r\n  height: 70vh;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.img-container {\r\n  display: flex;\r\n  align-items: center;\r\n  object-fit: scale-down;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n}\r\n\r\n#image {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.el-footer {\r\n  position: absolute;\r\n  bottom: 96px;\r\n  max-width: 100%;\r\n}\r\n\r\n.modules {\r\n  display: flex;\r\n  overflow: hidden;\r\n  overflow-x: scroll;\r\n}\r\n\r\n.sub-modules {\r\n  display: flex;\r\n  overflow: hidden;\r\n  overflow-x: scroll;\r\n  flex-direction: row;\r\n}\r\n\r\n.sub-modules {\r\n  display: flex;\r\n  overflow: hidden;\r\n  overflow-x: scroll;\r\n  flex-direction: row;\r\n  height: 106px;\r\n}\r\n\r\n.card-img {\r\n  max-width: 80%;\r\n  max-height: 90%;\r\n}\r\n\r\n.el-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n  width: 85px;\r\n}\r\n\r\n.el-card__body {\r\n  width: 100%;\r\n}\r\n\r\n.el-card.is-always-shadow {\r\n  box-shadow: 0 2px 5px 0 #409eff;\r\n  border-color: rgba(64, 158, 255, 0.6);\r\n}\r\n\r\n.card-container {\r\n  width: 86px;\r\n  margin: 5px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterProc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterProc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterProc.vue?vue&type=template&id=4688d502&scoped=true&\"\nimport script from \"./FilterProc.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterProc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterProc.vue?vue&type=style&index=0&id=4688d502&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4688d502\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/style4.7c335d89.jpg\";","module.exports = __webpack_public_path__ + \"img/style5.a412c54d.jpg\";","module.exports = __webpack_public_path__ + \"img/style3.4566f083.jpg\";","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","module.exports = __webpack_public_path__ + \"img/锐化.d33d2942.jpg\";","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","module.exports = __webpack_public_path__ + \"img/style0.406ccc0e.jpg\";","module.exports = __webpack_public_path__ + \"img/浮雕.39567e54.jpg\";","module.exports = __webpack_public_path__ + \"img/style7.83cc61d7.jpg\";","module.exports = __webpack_public_path__ + \"img/中国剪纸.074ab9b7.jpg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterProc.vue?vue&type=style&index=0&id=4688d502&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterProc.vue?vue&type=style&index=0&id=4688d502&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/style6.3151cf45.jpg\";","module.exports = __webpack_public_path__ + \"img/style1.3fb1dcce.jpg\";","module.exports = __webpack_public_path__ + \"img/褪色.f809ac8c.jpg\";","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","module.exports = __webpack_public_path__ + \"img/怀旧.e4f81cbb.jpg\";","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","module.exports = __webpack_public_path__ + \"img/img0.c29a349e.jpg\";","module.exports = __webpack_public_path__ + \"img/像素风.c782304c.jpg\";","module.exports = __webpack_public_path__ + \"img/testImg.b9436d46.png\";","module.exports = __webpack_public_path__ + \"img/去雾.38093162.jpg\";","module.exports = __webpack_public_path__ + \"img/调和浮雕.7d041424.jpg\";","module.exports = __webpack_public_path__ + \"img/蜡笔.42ff2f7f.jpg\";"],"sourceRoot":""}