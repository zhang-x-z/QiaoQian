(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f8bfe56"],{"0027":function(e,t,n){},"0475":function(e,t,n){e.exports=n.p+"img/tiezhi.f7f25910.svg"},"14c3":function(e,t,n){var i=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var r=n.call(e,t);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"2c32":function(e,t,n){"use strict";var i=n("0027"),a=n.n(i);a.a},"32de":function(e,t,n){e.exports=n.p+"img/tuya.628b3a46.svg"},"368e":function(e,t,n){e.exports=n.p+"img/swap.804bd83c.svg"},"48e5":function(e,t,n){e.exports=n.p+"img/zhineng-active.1ff96ee3.svg"},5319:function(e,t,n){"use strict";var i=n("d784"),a=n("825a"),r=n("7b0b"),c=n("50c4"),o=n("a691"),s=n("1d80"),u=n("8aa5"),l=n("14c3"),f=Math.max,p=Math.min,g=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};i("replace",2,(function(e,t,n,i){var h=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=i.REPLACE_KEEPS_$0,b=h?"$":"$0";return[function(n,i){var a=s(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a,i):t.call(String(a),n,i)},function(e,i){if(!h&&x||"string"===typeof i&&-1===i.indexOf(b)){var r=n(t,e,this,i);if(r.done)return r.value}var s=a(e),g=String(this),d="function"===typeof i;d||(i=String(i));var v=s.global;if(v){var A=s.unicode;s.lastIndex=0}var E=[];while(1){var I=l(s,g);if(null===I)break;if(E.push(I),!v)break;var C=String(I[0]);""===C&&(s.lastIndex=u(g,c(s.lastIndex),A))}for(var k="",S=0,_=0;_<E.length;_++){I=E[_];for(var R=String(I[0]),w=f(p(o(I.index),g.length),0),P=[],$=1;$<I.length;$++)P.push(m(I[$]));var N=I.groups;if(d){var T=[R].concat(P,w,g);void 0!==N&&T.push(N);var U=String(i.apply(void 0,T))}else U=y(R,g,w,P,N,i);w>=S&&(k+=g.slice(S,w)+U,S=w+R.length)}return k+g.slice(S)}];function y(e,n,i,a,c,o){var s=i+e.length,u=a.length,l=v;return void 0!==c&&(c=r(c),l=d),t.call(o,l,(function(t,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,i);case"'":return n.slice(s);case"<":o=c[r.slice(1,-1)];break;default:var l=+r;if(0===l)return t;if(l>u){var f=g(l/10);return 0===f?t:f<=u?void 0===a[f-1]?r.charAt(1):a[f-1]+r.charAt(1):t}o=a[l-1]}return void 0===o?"":o}))}}))},5974:function(e,t,n){e.exports=n.p+"img/watermark.efe1ff59.svg"},"5d5c":function(e,t,n){e.exports=n.p+"img/swap-active.f719bec8.svg"},6547:function(e,t,n){var i=n("a691"),a=n("1d80"),r=function(e){return function(t,n){var r,c,o=String(a(t)),s=i(n),u=o.length;return s<0||s>=u?e?"":void 0:(r=o.charCodeAt(s),r<55296||r>56319||s+1===u||(c=o.charCodeAt(s+1))<56320||c>57343?e?o.charAt(s):r:e?o.slice(s,s+2):c-56320+(r-55296<<10)+65536)}};e.exports={codeAt:r(!1),charAt:r(!0)}},6869:function(e,t,n){e.exports=n.p+"img/secai-active.096b1a1d.svg"},"6b5f":function(e,t,n){e.exports=n.p+"img/masaike.db8676d7.svg"},7837:function(e,t,n){e.exports=n.p+"img/bianji-active.675ff33d.svg"},"7b6a":function(e,t,n){e.exports=n.p+"img/lvjing.d7257447.svg"},"7e26":function(e,t,n){},"80cb":function(e,t,n){e.exports=n.p+"img/zhineng.12417644.svg"},"8aa5":function(e,t,n){"use strict";var i=n("6547").charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},9263:function(e,t,n){"use strict";var i=n("ad6d"),a=n("9f7f"),r=RegExp.prototype.exec,c=String.prototype.replace,o=r,s=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=s||l||u;f&&(o=function(e){var t,n,a,o,f=this,p=u&&f.sticky,g=i.call(f),d=f.source,v=0,m=e;return p&&(g=g.replace("y",""),-1===g.indexOf("g")&&(g+="g"),m=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(d="(?: "+d+")",m=" "+m,v++),n=new RegExp("^(?:"+d+")",g)),l&&(n=new RegExp("^"+d+"$(?!\\s)",g)),s&&(t=f.lastIndex),a=r.call(p?n:f,m),p?a?(a.input=a.input.slice(v),a[0]=a[0].slice(v),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:s&&a&&(f.lastIndex=f.global?a.index+a[0].length:t),l&&a&&a.length>1&&c.call(a[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a}),e.exports=o},"97bf":function(e,t,n){e.exports=n.p+"img/tuya-active.cddac503.svg"},"9f7f":function(e,t,n){"use strict";var i=n("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9fe8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"img-proc"},[n("el-header",[n("nav-bar",{scopedSlots:e._u([{key:"left",fn:function(){return[n("i",{staticClass:"el-icon-back",on:{click:e.back}})]},proxy:!0},{key:"center",fn:function(){return[n("span",[e._v("图片美化")])]},proxy:!0},{key:"right",fn:function(){return[n("i",{staticClass:"el-icon-check",on:{click:e.finish}})]},proxy:!0}])})],1),n("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.fullScreenLoading,expression:"fullScreenLoading"}],attrs:{"element-loading-text":"处理中...","element-loading-background":"rgba(0, 0, 0, 0.6)"}},[n("div",{staticClass:"img-container"},[n("img",{attrs:{id:"image",src:e.userImg}})])]),n("el-footer",{staticClass:"tabs"},[n("el-tabs",{staticClass:"modules",attrs:{"tab-position":"bottom"}},[e._l(e.modules,(function(t){return[n("el-tab-pane",{scopedSlots:e._u([{key:"label",fn:function(){return[n("process-item",{attrs:{itemName:t.name,isActive:t.isActive},on:{"item-click":e.handleClick},scopedSlots:e._u([{key:"icon",fn:function(){return[n("img",{attrs:{src:t.icon}})]},proxy:!0},{key:"icon-active",fn:function(){return[n("img",{attrs:{src:t.iconActive}})]},proxy:!0},{key:"text",fn:function(){return[n("span",[e._v(e._s(t.name))])]},proxy:!0}],null,!0)})]},proxy:!0}],null,!0)})]}))],2)],1)],1)},a=[],r=(n("c740"),n("b0c0"),n("ac1f"),n("5319"),n("6259")),c=n("61cf"),o=n("80cb"),s=n.n(o),u=n("48e5"),l=n.n(u),f=n("a55f"),p=n.n(f),g=n("7837"),d=n.n(g),v=n("c97a"),m=n.n(v),h=n("6869"),x=n.n(h),b=n("d551"),y=n.n(b),A=n("efac"),E=n.n(A),I=n("7b6a"),C=n.n(I),k=n("d71a"),S=n.n(k),_=n("6b5f"),R=n.n(_),w=n("e235"),P=n.n(w),$=n("32de"),N=n.n($),T=n("97bf"),U=n.n(T),j=(n("0475"),n("5974")),D=n.n(j),L=n("dc7e"),O=n.n(L),M=n("368e"),B=n.n(M),F=n("5d5c"),z=n.n(F),K=n("b8ee"),Y=n.n(K),G=(n("0987"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo"},[n("p",[e._v("预览")]),n("div",{staticClass:"before"}),n("button",{staticStyle:{margin:"30px auto"},attrs:{type:"error"},on:{click:e.sureSava}},[e._v("裁剪")]),n("button",{on:{click:e.startRotate}},[e._v("开始旋转")]),n("button",{on:{click:e.rotate}},[e._v("旋转测试")]),n("div",{staticClass:"container"},[n("div",{staticClass:"img-container"},[n("img",{ref:"image",attrs:{src:e.defaultImg,alt:""}})]),n("div",{staticClass:"afterCropper"},[n("img",{attrs:{src:e.afterImg,alt:""}})])])])}),J=[],X=n("bab4"),H=n.n(X),Q=(n("6107"),n("aaa4")),W=n.n(Q),q={name:"CropperDemo",data:function(){return{myCropper:null,afterImg:"",width:0,height:0,defaultImg:W.a}},mounted:function(){this.init()},methods:{init:function(){this.myCropper=new H.a(this.$refs.image,{viewMode:1,dragMode:"none",initialAspectRatio:1,preview:".before",background:!1,autoCropArea:.6,zoomOnWheel:!0,center:!1})},sureSava:function(){this.myCropper.getCanvasData();this.afterImg=this.myCropper.getCroppedCanvas({imageSmoothingQuality:"high",fillColor:"white",width:353,height:400}).toDataURL("image/jpeg")},startRotate:function(){},rotate:function(){this.myCropper.clear();this.myCropper.getCanvasData();this.myCropper.rotate(30)}}},V=q,Z=(n("fa68"),n("2877")),ee=Object(Z["a"])(V,G,J,!1,null,"756c5982",null),te=(ee.exports,n("bc3a")),ne=n.n(te),ie=n("025e");ne.a.defaults.baseURL=Object(ie["a"])();var ae={name:"ImgProc",components:{NavBar:r["a"],ProcessItem:c["a"]},data:function(){return{modules:[{name:"智能美化",pageName:"AIProc",icon:s.a,iconActive:l.a,isActive:!1},{name:"图片编辑",pageName:"editProc",icon:p.a,iconActive:d.a,isActive:!1},{name:"色彩风格",pageName:"colorProc",icon:m.a,iconActive:x.a,isActive:!1},{name:"人像美化",pageName:"faceProc",icon:y.a,iconActive:E.a,isActive:!1},{name:"滤镜",pageName:"filterProc",icon:C.a,iconActive:S.a,isActive:!1},{name:"涂鸦笔",pageName:"markProc",icon:N.a,iconActive:U.a,isActive:!1},{name:"马赛克",pageName:"mosaicProc",icon:R.a,iconActive:P.a,isActive:!1},{name:"水印",pageName:"waterMarkProc",icon:D.a,iconActive:O.a,isActive:!1},{name:"换脸",pageName:"swapProc",icon:B.a,iconActive:z.a,isActive:!1}],currentModule:"",previousIndex:0,testImg:Y.a,historyImg:[],fullScreenLoading:!1}},computed:{userImg:function(){return this.$store.state.editedImg}},mounted:function(){this.currentModule="图片美化"},methods:{back:function(){this.$router.replace("home")},finish:function(){var e=new Date,t=document.createElement("a");t.href=this.userImg,t.setAttribute("download","巧倩美颜-"+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"-"+e.getHours()+e.getMinutes()+e.getSeconds()+".jpg"),t.click()},handleClick:function(e){var t=this,n=this.$store.state.findIndex(this.modules,e,"name");if(this.modules[n].isActive=!0,this.modules[this.previousIndex].isActive=!1,this.previousIndex=n,"智能美化"===this.modules[n].name){this.fullScreenLoading=!0;var i=new FormData;i.append("editedImg",this.userImg),ne.a.post("imgProc/face_makeup/",i).then((function(e){var n=e.data.error_code;0===n?t.$store.commit("saveImg",e.data.img_proc_result):1008===n&&t.$message.error("出错啦，请稍后再试"),t.fullScreenLoading=!1})).catch((function(e){t.$message.error("出错啦，请检查您的网络连接"),t.fullScreenLoading=!1}))}else this.$router.push(this.modules[n].pageName)}}},re=ae,ce=(n("2c32"),Object(Z["a"])(re,i,a,!1,null,"f4239ab8",null));t["default"]=ce.exports},a55f:function(e,t,n){e.exports=n.p+"img/bianji.0d7ebf0d.svg"},aaa4:function(e,t,n){e.exports=n.p+"img/theme5.d972810a.jpg"},ac1f:function(e,t,n){"use strict";var i=n("23e7"),a=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var i=n("825a");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,n){var i=n("83ab"),a=n("9bf2").f,r=Function.prototype,c=r.toString,o=/^\s*function ([^ (]*)/,s="name";i&&!(s in r)&&a(r,s,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(e){return""}}})},b8ee:function(e,t,n){e.exports=n.p+"img/theme4.585b04e8.jpg"},c97a:function(e,t,n){e.exports=n.p+"img/secai.fec05c95.svg"},d551:function(e,t,n){e.exports=n.p+"img/renxiang.3b4ca30e.svg"},d71a:function(e,t,n){e.exports=n.p+"img/lvjing-active.43491353.svg"},d784:function(e,t,n){"use strict";n("ac1f");var i=n("6eeb"),a=n("d039"),r=n("b622"),c=n("9263"),o=n("9112"),s=r("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=r("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),g=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var d=r(e),v=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=v&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!v||!m||"replace"===e&&(!u||!l||p)||"split"===e&&!g){var h=/./[d],x=n(d,""[e],(function(e,t,n,i,a){return t.exec===c?v&&!a?{done:!0,value:h.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=x[0],y=x[1];i(String.prototype,e,b),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}f&&o(RegExp.prototype[d],"sham",!0)}},dc7e:function(e,t,n){e.exports=n.p+"img/watermark-active.cfc74e34.svg"},e235:function(e,t,n){e.exports=n.p+"img/masaike-active.c5c2ac59.svg"},efac:function(e,t,n){e.exports=n.p+"img/renxiang-active.82eb7791.svg"},fa68:function(e,t,n){"use strict";var i=n("7e26"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-7f8bfe56.9ad1ad9b.js.map