(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1115d284"],{"071a":function(e,t,n){e.exports=n.p+"img/style8.7517da19.jpg"},"1b2e":function(e,t,n){e.exports=n.p+"img/style2.d5c6998c.jpg"},"1b4b":function(e,t,n){},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),s=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(s(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"296e":function(e,t,n){e.exports=n.p+"img/素描.16400a07.jpg"},"2eaa":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filter-proc"},[n("el-header",[n("nav-bar",{scopedSlots:e._u([{key:"left",fn:function(){return[n("i",{staticClass:"el-icon-close",on:{click:e.back}})]},proxy:!0},{key:"center",fn:function(){return[n("span",[e._v(e._s(e.currentModule))])]},proxy:!0},{key:"right",fn:function(){return[n("i",{staticClass:"el-icon-check",on:{click:e.finish}})]},proxy:!0}])})],1),n("el-main",[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fullScreenLoading,expression:"fullScreenLoading"}],staticClass:"img-container",attrs:{"element-loading-text":"处理中...","element-loading-background":"rgba(0, 0, 0, 0.6)"}},[n("img",{ref:"image",attrs:{src:e.userImg,id:"image"}})])]),n("el-footer",{staticClass:"tabs"},[n("el-tabs",{attrs:{"tab-position":"bottom"},on:{"tab-click":e.handleClick},model:{value:e.滤镜,callback:function(t){e.滤镜=t},expression:"滤镜"}},[e._l(e.modules,(function(t,r){return[n("el-tab-pane",{attrs:{label:t}},[n("div",{staticClass:"sub-modules"},[e._l(e.subModules[r],(function(t,i){return[n("div",{staticClass:"card-container",attrs:{id:i},on:{click:e.handleSubClick}},[n("el-card",{attrs:{shadow:e.isShadow[r][i],"body-style":{padding:"0",width:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}}},[n("span",[e._v(e._s(t))]),n("img",{staticClass:"card-img",attrs:{src:e.subSamples[r][i]}})])],1)]}))],2)])]}))],2)],1)],1)},i=[],s=(n("c740"),n("caad"),n("2532"),n("6259")),a=(n("e573"),n("d61c")),o=n.n(a),c=n("a7e3"),u=n.n(c),d=n("fab9"),l=n.n(d),g=n("ff30"),f=n.n(g),p=n("aee8"),m=n.n(p),h=n("51c6"),v=n.n(h),b=n("d775"),x=n.n(b),S=n("fedb"),I=n.n(S),y=n("296e"),j=n.n(y),k=n("7a7f"),w=n.n(k),_=n("6c83"),M=n.n(_),$=n("6330"),C=n.n($),L=n("a15d"),O=n.n(L),E=n("1b2e"),P=n.n(E),T=n("41dd"),D=n.n(T),F=n("30da"),R=n.n(F),A=n("3b95"),J=n.n(A),N=n("9821"),B=n.n(N),U=n("7110"),q=n.n(U),z=n("071a"),G=n.n(z),H=n("bc3a"),K=n.n(H),Q=n("025e");K.a.defaults.baseURL=Object(Q["a"])();var V={"褪色":2,"去雾":3,"蜡笔":0,"怀旧":5,"锐化":9,"像素风":1,"调和浮雕":4,"素描":6,"中国剪纸":7,"浮雕":8,"卡通画":0,"铅笔画":1,"彩色铅笔":2,"彩糖油画":3,"神奈川油画":4,"薰衣草油画":5,"奇异油画":6,"呐喊油画":7,"哥特油画":8},W={name:"ColorProc",components:{NavBar:s["a"]},data:function(){return{modules:["朴素","质感","艺术"],subModules:[["褪色","去雾","蜡笔","怀旧","锐化"],["像素风","调和浮雕","素描","中国剪纸","浮雕"],["卡通画","铅笔画","彩色铅笔","彩糖油画","神奈川油画","薰衣草油画","奇异油画","呐喊油画","哥特油画"]],subSamples:[[u.a,l.a,f.a,m.a,v.a],[x.a,I.a,j.a,w.a,M.a],[C.a,O.a,P.a,D.a,R.a,J.a,B.a,q.a,G.a]],isShadow:[["never","never","never","never","never"],["never","never","never","never","never"],["never","never","never","never","never","never","never","never","never"]],previousIndex:0,currentModule:"",currentSubModule:"",userImg:"",savedImg:"",fullScreenLoading:!1}},mounted:function(){this.init()},methods:{init:function(){for(var e in this.subModules)this.subModules[e].unshift("原图"),this.subSamples[e].unshift(o.a),this.isShadow[e].unshift("never");this.userImg=this.$store.state.editedImg,this.savedImg=this.$store.state.editedImg,this.currentModule="朴素"},reset:function(){this.userImg=this.$store.state.editedImg,this.savedImg=this.$store.state.editedImg},back:function(){this.$router.back()},finish:function(){this.$store.commit("saveImg",this.userImg),this.$router.back()},handleClick:function(e){this.currentModule=e.label},handleSubClick:function(e){var t=this,n=this.modules.findIndex((function(e){return e==t.currentModule})),r=e.currentTarget.id;if(this.isShadow[n][this.previousIndex]="never",this.previousIndex=r,this.isShadow[n][r]="always",this.currentSubModule=this.subModules[n][r],"原图"===this.currentSubModule)this.reset();else if("锐化"===this.currentSubModule){this.fullScreenLoading=!0;var i=new FormData;i.append("editedImg",this.savedImg),K.a.post("imgProc/changeSharp/",i).then((function(e){var n=e.data.error_code;0===n?t.userImg=e.data.img_proc_result:1008===n&&t.$message.error("出错啦，请稍后再试"),t.fullScreenLoading=!1})).catch((function(e){t.$message.error("出错啦，请检查您的网络连接"),t.fullScreenLoading=!1}))}else if(this.subModules[2].includes(this.currentSubModule)){this.fullScreenLoading=!0;var s=V[this.currentSubModule],a=new FormData;a.append("style_num",s),a.append("editedImg",this.savedImg),K.a.post("imgProc/styleTransform/",a).then((function(e){var n=e.data.error_code;0===n?t.userImg=e.data.img_proc_result:1008===n&&t.$message.error("出错啦，请稍后再试"),t.fullScreenLoading=!1})).catch((function(e){console.log(e),t.$message.error("出错啦，请检查您的网络连接"),t.fullScreenLoading=!1}))}else{this.fullScreenLoading=!0;var o=V[this.currentSubModule],c=new FormData;c.append("operation",o),c.append("editedImg",this.savedImg),K.a.post("imgProc/filter/",c).then((function(e){var n=e.data.error_code;0===n?t.userImg=e.data.img_proc_result:1008===n&&t.$message.error("出错啦，请稍后再试"),t.fullScreenLoading=!1})).catch((function(e){console.log(e),t.$message.error("出错啦，请检查您的网络连接"),t.fullScreenLoading=!1}))}}},activated:function(){this.userImg=this.$store.state.editedImg,this.savedImg=this.$store.state.editedImg}},X=W,Y=(n("8780"),n("2877")),Z=Object(Y["a"])(X,r,i,!1,null,"4688d502",null);t["default"]=Z.exports},"30da":function(e,t,n){e.exports=n.p+"img/style4.7c335d89.jpg"},"3b95":function(e,t,n){e.exports=n.p+"img/style5.a412c54d.jpg"},"41dd":function(e,t,n){e.exports=n.p+"img/style3.4566f083.jpg"},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),s=n("b622"),a=s("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},"51c6":function(e,t,n){e.exports=n.p+"img/锐化.d33d2942.jpg"},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},6330:function(e,t,n){e.exports=n.p+"img/style0.406ccc0e.jpg"},"6c83":function(e,t,n){e.exports=n.p+"img/浮雕.39567e54.jpg"},7110:function(e,t,n){e.exports=n.p+"img/style7.83cc61d7.jpg"},"7a7f":function(e,t,n){e.exports=n.p+"img/中国剪纸.074ab9b7.jpg"},8780:function(e,t,n){"use strict";var r=n("1b4b"),i=n.n(r);i.a},9821:function(e,t,n){e.exports=n.p+"img/style6.3151cf45.jpg"},a15d:function(e,t,n){e.exports=n.p+"img/style1.3fb1dcce.jpg"},a7e3:function(e,t,n){e.exports=n.p+"img/褪色.f809ac8c.jpg"},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},aee8:function(e,t,n){e.exports=n.p+"img/怀旧.e4f81cbb.jpg"},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,s=n("44d2"),a=n("ae40"),o=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!o},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},d61c:function(e,t,n){e.exports=n.p+"img/img0.c29a349e.jpg"},d775:function(e,t,n){e.exports=n.p+"img/像素风.c782304c.jpg"},e573:function(e,t,n){e.exports=n.p+"img/testImg.b9436d46.png"},fab9:function(e,t,n){e.exports=n.p+"img/去雾.38093162.jpg"},fedb:function(e,t,n){e.exports=n.p+"img/调和浮雕.7d041424.jpg"},ff30:function(e,t,n){e.exports=n.p+"img/蜡笔.42ff2f7f.jpg"}}]);
//# sourceMappingURL=chunk-1115d284.58cb30fa.js.map